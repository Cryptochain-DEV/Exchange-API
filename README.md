## Demo of LBR chain transfer and related explanation

### Manual

```javascript
npm install
```

### [Wallet Create](./src/create-wallet.js)

```javascript
node src/create-wallet.js 
```

### [LBR Transfer](./src/transfer.js)

```javascript
node src/transfer.js 
```

### LBR chain ledger analysis API description

-[get the latest block number] (ා get the latest block number)
-[get the specified block information] (ා get the specified block information)
-[get transaction receipt with specified hash] (ා get transaction receipt with specified hash)
-[obtain the transaction receipt of the specified wallet and nonce] (ා obtain the transaction receipt of the specified wallet and nonce)
-[get transaction information of specified transaction hash] (ා get transaction information of specified transaction hash)
-[obtain transaction information of specified wallet and nonce] (ා obtain transaction information of specified wallet and nonce)
-[transfer data analysis] (ා transfer data analysis)

#### Get the latest block number

Params
>String - LBR CHAIN ADDRESS，0x36aa307a4157653eafa47f327b11963ccf174ed4<br>

Returns
>String - Hexadecimal block number

Example
```
// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getBlockNumber","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4"],"id":101}' 'https://liberumdex.net/scs'

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": "0xbf869"  // Hexadecimal block number, decimal 784489
}
```

#### Get the specified block information

Params
>String - LBR chain address, 0x36aa307a4157653eafa47f327b11963ccf174ed4 < br >
>String - specifies the block height. Only hexadecimal numbers are supported
Returns
>Object - returns the block data of the specified block < br >
>Extradata: sting - block extra data < br >
>Hash: sting - block hash < br >
>Miner: sting - receiving account of mining reward < br >
>Number: sting - block number, hexadecimal < br >
>Parenthash: sting - last block hash < br >
>Receiptsroot: sting - root node of block transaction receipt tree < br >
>Stateroot: sting - the root node of the block's final state tree < br >
>Timestamp: sting - timestamp, hexadecimal < br >
>Transactions: array - transactions contained in the block < br >
>Transactionsroot: String - transaction tree root node in block < br >

Example
```
// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getBlock","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4","0x10"],"id":101}' https://liberumdex.net/scs

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": {
		"extraData": "0x",
		"hash": "0xb144b0d808c9339a65755ae3c8c3399659c48a1776c264896ff636c85575cd6a",
		"miner": "0x7d4f20dc0712d13c8c2b9b195134938f4940722c",
		"number": "0x10",
		"parentHash": "0xc5ddaf52313bbe0f9c0f3266bb616330c832fd2c02803fcdcf3e0b3515aa5cca",
		"receiptsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
		"stateRoot": "0x904896b92203e55e06ef55bbfd6f4741dd793b032179b30ca27c319defa26b79",
		"timestamp": "0x5e243e5e",
		"transactions": [],
		"transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"
	}
}
``` 

#### Get transaction receipt of specified hash

Params
>String - LBR chain address, 0x36aa307a4157653eafa47f327b11963ccf174ed4 < br >
>String - transaction hash
Returns
>Object - transaction receipt
Contractaddress: String - contract address < br >
Failed: Boolean - transaction status, fail or not, false: transaction succeeded, true: transaction failed < br >
Logs: array - array of log objects generated by this transaction < br >
-Address: String - the address of the smart contract < br >
-Topics: array - address of relevant transfer in and transfer out parties in the process of smart contract transfer hash < br >
-Data: String - amount of smart contract transfer (Base64 code) < br >
-Blocknumber: number - block number < br >
-Transactionhash: String - transaction hash < br >
-Transactionindex: number - the index position of the transaction in the block < br >
-Blockhash: String - block hash < br >
-Logindex: number - log index location < br >
Logsbroom: String - log filter < br >
Queryinblock: number - query block location < br >
Result: String - result < br >
Example
```

// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getReceiptByHash","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4","0x0056a22219c370802fdc5d8bb18d1cc387c97428c6aee95ab794e4e0931e04f5"],"id":101}' https://liberumdex.net/scs

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": {
		"contractAddress": "0x0000000000000000000000000000000000000000",
		"failed": false,
		"logs": [{
			"address": "0x1652a76c60a73467109527dfa06d306ddb01aa89",
			"topics": ["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef", "0x000000000000000000000000d75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8", "0x0000000000000000000000006b4fb976c0a79c2ab5498a1a61e5c25892e74087"],
			"data": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAapTXT0MAAA=",
			"blockNumber": 784194,
			"transactionHash": "0x0056a22219c370802fdc5d8bb18d1cc387c97428c6aee95ab794e4e0931e04f5",
			"transactionIndex": 0,
			"blockHash": "0x4bcedd5ee3a6e4f8a4b1e5fddb0707bce7c8cd0f326024a166c1ec577541e855",
			"logIndex": 0,
			"removed": false
		}],
		"logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000040000000000000000000008000000000000000000008000000004000000000000000000000000008000000000800000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010040000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000",
		"queryInBlock": 0,
		"result": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=",
		"transactionHash": "0x0056a22219c370802fdc5d8bb18d1cc387c97428c6aee95ab794e4e0931e04f5"
	}
}
```
  
#### Get transaction receipt for specified wallet and nonce

Params
>String - LBR chain address, 0x36aa307a4157653eafa47f327b11963ccf174ed4 < br >
>String - Wallet address
>Number - nonce
Returns
>Object - transaction result. See the above for details

Example
```
// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getReceiptByNonce","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4","0xd75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8", 633],"id":101}' https://liberumdex.net/scs

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": {
		"contractAddress": "0x0000000000000000000000000000000000000000",
		"failed": false,
		"logs": [{
			"address": "0x1652a76c60a73467109527dfa06d306ddb01aa89",
			"topics": ["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef", "0x000000000000000000000000d75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8", "0x0000000000000000000000006b4fb976c0a79c2ab5498a1a61e5c25892e74087"],
			"data": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAESAMdkTVAAA=",
			"blockNumber": 778169,
			"transactionHash": "0x090f923021528d506f17a7c698c6a33839090019ef23629e70fe4e5aa5be8327",
			"transactionIndex": 0,
			"blockHash": "0xd37af071016113c58bed1f0310f200607d9e6125722996a9578225506caba51d",
			"logIndex": 0,
			"removed": false
		}],
		"logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000040000000000000000000008000000000000000000008000000004000000000000000000000000008000000000800000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010040000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000",
		"queryInBlock": 0,
		"result": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE=",
		"transactionHash": "0x090f923021528d506f17a7c698c6a33839090019ef23629e70fe4e5aa5be8327"
	}
}
```
#### Get transaction information of specified transaction hash

Params
>String - LBR chain address, 0x36aa307a4157653eafa47f327b11963ccf174ed4 < br >
>String - transaction hash
Returns
>Object - transaction result
Blockhash: String - block hash < br >
Blocknumber: String - hexadecimal block number < br >
From: String - transaction initiator < br >
Input: String - transaction content < br >
Nonce: number - transaction nonce < br >
r: String - transaction signature structure < br >
s: String - transaction signature structure < br >
Shardingflag: number - transaction type, 1 is to execute the smart contract, 2 is to transfer the original currency, 3 is to deploy the smart contract < br >
To: String - transaction receiver < br >
Transactionhash: String - transaction hash < br >
Transactionindex: String - index position of transaction in block < br >
v: Number - transaction signature structure < br >
Value: number - amount < br >

Example
```
// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getTransactionByHash","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4","0xecaacb7a6643ecd58cbc53cf76edf93bf825e0cc549c792a45cf1bb3065b4fe3"],"id":101}' https://liberumdex.net/scs

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": {
		"blockHash": "0x008a7099f5bd701124079ef1b35c0bae1386aedb64ea7a759df4ed885a2470e7",
		"blockNumber": "0xbf727",
		"from": "0xd75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8",
		"input": "0x1652a76c60a73467109527dfa06d306ddb01aa89a9059cbb0000000000000000000000006b4fb976c0a79c2ab5498a1a61e5c25892e7408700000000000000000000000000000000000000000000000001aa535d3d0c0000e8bdace8b4a644656d6f",
		"nonce": 660,
		"r": 6840248595410363996048256507662366353207120512458591980970692766184514999750,
		"s": 31860061242736890353031238548398400717626347192294322451334788392754560523524,
		"shardingFlag": 1,
		"to": "0x36aa307a4157653eafa47f327b11963ccf174ed4",
		"transactionHash": "0xecaacb7a6643ecd58cbc53cf76edf93bf825e0cc549c792a45cf1bb3065b4fe3",
		"transactionIndex": "0x0",
		"v": 234,
		"value": 0
	}
}
```
#### Get transaction information of specified wallet and nonce

Params
>String - LBR chain address, 0x36aa307a4157653eafa47f327b11963ccf174ed4 < br >
>String - Wallet address
>Number - nonce
Returns
>Object - transaction result. See the above for details

Example
```
// Request
curl -X POST --data '{"jsonrpc":"2.0","method":"scs_getTransactionByNonce","params":["0x36aa307a4157653eafa47f327b11963ccf174ed4","0xd75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8", 634],"id":101}' https://liberumdex.net/scs

// Result
{
	"jsonrpc": "2.0",
	"id": 101,
	"result": {
		"blockHash": "0xdfc0a94e72f4db887f8d56a90db07a05ee62d2e3cb2ec1f429ff20dddc4541e7",
		"blockNumber": "0xbdfbf",
		"from": "0xd75977fb1c1bf735ddd6c21f7ecfa1405e2cabb8",
		"input": "0x1652a76c60a73467109527dfa06d306ddb01aa89a9059cbb0000000000000000000000006b4fb976c0a79c2ab5498a1a61e5c25892e7408700000000000000000000000000000000000000000000000011200c7644d50000e6b58be8af9568686868",
		"nonce": 634,
		"r": 89944765806535187470195512642740513158639821793163186803848716935294213960657,
		"s": 39096147155667292561446716859055444549563580656768500037006920587930562785795,
		"shardingFlag": 1,
		"to": "0x36aa307a4157653eafa47f327b11963ccf174ed4",
		"transactionHash": "0x823b0ea53f1e886f5560057f26def4cdedb8589e906bad7d4bc1403cda89ea42",
		"transactionIndex": "0x1",
		"v": 234,
		"value": 0
	}
}
```

#### Transfer data analysis

-Install [ABI decoder] (https://www.npmjs.com/package/abi-decoderාinstall)
-[add ABI of erc20] (https://www.npmjs.com/package/abi-decoderාadd ABIS)
-Use the [get transaction receipt with specified hash] (ා get transaction receipt with specified hash) API to get the logs of transfer transaction
-Calling the [decode logs] method of ABI decoder (https://www.npmjs.com/package/abi-decoder ා decode logs from TX receive) to parse the obtained logs
